
## 获取下三角矩阵
```
#
lower_triangle = np.tril(symmetric_matrix, 0) #np.triu(data, 0)
gene30sum = np.sum(lower_triangle)
```

## 根据index对称性矩阵下抽样
```
def get_bins_sum(binlist,array):
    interaction = list(itertools.combinations(binlist,2))
    valuelist = [  array[inter[0],inter[1]]            for inter in interaction]
    return sum(valuelist)

```
## 获取矩阵上下三角并打印成一行
```
#不包括对角线
##方法一：
def matrix_list(matrix, matrix_type):
    mt_file = pd.read_csv(matrix, index_col=0)
    mt_array = np.array(mt_file)
    mt_array_uppertri = mt_array[np.triu_indices(mt_array.shape[0], k = 1)]
    mt_array_uppertri_list = mt_array_uppertri.tolist()
    samplename = mt_file.columns.tolist()
    samplename_com = [i[0] + "--"+ i[1] for i in list(itertools.combinations(samplename,2))]
    mt_df = pd.DataFrame(list(zip(samplename_com, mt_array_uppertri_list)), columns = ['samplename_com', matrix_type])
    return mt_df

##方法二：
list(A[np.triu_indices(3)])
#> https://stackoverflow.com/questions/20645672/how-to-copy-only-upper-triangular-values-into-array-from-numpy-triu
https://stackoverflow.com/questions/17527693/transform-the-upper-lower-triangular-part-of-a-symmetric-matrix-2d-array-into?lq=1
https://stackoverflow.com/questions/45524923/numpy-scipy-fill-upper-triangle-of-array-with-elements-of-1d-vector
https://stackoverflow.com/questions/17527693/transform-the-upper-lower-triangular-part-of-a-symmetric-matrix-2d-array-into

#包括对角线
import numpy as np

a = np.arange(16).reshape([4, 4])
print(a)
#[[ 0  1  2  3]
# [ 4  5  6  7]
# [ 8  9 10 11]
# [12 13 14 15]]

indices = np.triu_indices_from(a)

upper = a[indices]
print(upper)
# [ 0  1  2  3  5  6  7 10 11 15]

a[np.triu_indices(3)]
#or
list(a[np.triu_indices(3)])

```